var tribe_events_pro_admin={event:{}};!function(u,e){e.init=function(){if(this.init_settings(),u("#event_venue input, #event_venue select").change(function(){var e=u("#saved_venue option:selected");if(0===e.val()){var t=u(this).closest("form"),n=t.find('[name="venue[Address]"]').val(),i=t.find('[name="venue[City]"]').val(),r=t.find('[name="venue[Country]"]').val(),s="US"===t.find('[name="venue[Country]"] option:selected').val()?t.find('[name="venue[State]"]').val():t.find('[name="venue[Province]"]').val(),a=t.find('[name="venue[Zip]"]').val();"function"==typeof codeAddress&&codeAddress(n+","+i+","+s+","+r+","+a)}else"function"==typeof codeAddress&&codeAddress(e.data("address"))}),u("#doaction, #doaction2").click(function(e){var t=u(this).attr("id").substr(2);if("edit"===u('select[name="'+t+'"]').val()&&"tribe_events"===u(".post_type_page").val()){e.preventDefault();var r=[];u("#bulk-titles div").each(function(){var e=u(this).attr("id"),t=e.replace("ttle",""),n=u("#post-"+t+" .row-title").first().text(),i=u("<div/>").append(u(this).find("a"));u(this).html("").append(i).append(n),r[e]&&u(this).remove(),r[e]=!0})}}),u("body").on("click",".ui-dialog-titlebar .ui-dialog-titlebar-close",function(){tribe_events_pro_admin.reset_submit_button()}),u('input[name="post[]"]').click(function(){var e=u(this).val();u(this).is(":checked")?u('input[name="post[]"][value="'+e+'"]').prop("checked",!0):u('input[name="post[]"][value="'+e+'"]').prop("checked",!1)}),u(".wp-list-table.posts").on("click",".tribe-split",function(){var e="";if(e=u(this).hasClass("tribe-split-all")?TribeEventsProAdmin.recurrence.splitAllMessage:TribeEventsProAdmin.recurrence.splitSingleMessage,!window.confirm(e))return!1}),u(".wp-admin.events-cal.edit-php #doaction").click(function(e){"trash"===u('[name="action"] option:selected').val()&&0<u('.tribe-recurring-event-parent [name="post[]"]:checked').length&&!confirm(TribeEventsProAdmin.recurrence.bulkDeleteConfirmationMessage)&&e.preventDefault()}),"object"==typeof TribeEventsProRecurrenceUpdate){var n=u("div.tribe-events-recurring-update-msg"),i=n.find("img"),r=n.find("div.progress"),s=n.find("div.bar"),a=Date.now();function t(e){var t=Date.now()-a;e.html&&n.html(e.html),e.progress&&c(e.progress,e.progressText),e.continue&&(t<500?setTimeout(o,500-t):o()),e.complete&&(i.replaceWith(TribeEventsProRecurrenceUpdate.completeMsg),n.removeClass("updating").addClass("completed"),setTimeout(d,1e3))}function o(){var e={event:TribeEventsProRecurrenceUpdate.eventID,check:TribeEventsProRecurrenceUpdate.check,action:"tribe_events_pro_recurrence_realtime_update"};u.post(ajaxurl,e,t,"json")}function c(e,t){(e=parseInt(e))<0||100<e||(s.css("width",e+"%"),r.attr("title",t))}function d(){n.animate({opacity:0,height:"toggle"},1e3,function(){n.remove()})}setTimeout(function(){o(),c(TribeEventsProRecurrenceUpdate.progress,TribeEventsProRecurrenceUpdate.progressText)})}u("body").on("change","#defaultCountry-select",function(){u(this);var e=u("#tribe-field-eventsDefaultState"),t=u(".tribe-settings-form-wrap #tribe-field-eventsDefaultProvince"),n=u("p.tribe-saved-state"),i=u("p.tribe-saved-province"),r=u(this).val();"US"===r||"United States"===r?(t.hide(),i.hide(),e.show(),n.show()):(e.hide(),n.hide(),t.show(),i.show())}).find("#defaultCountry-select").trigger("change")},e.init_settings=function(){var e=u('[name="hideSubsequentRecurrencesDefault"]'),t=u('[name="userToggleSubsequentRecurrences"]');if(e.length&&t.length){var n=u("#tribe-field-userToggleSubsequentRecurrences");e.is(":checked")&&(t.prop("checked",!1),n.hide()),e.on("click",function(){u(this).is(":checked")?(t.prop("checked",!1),n.hide()):n.show()})}},u(function(){e.init()})}(jQuery,tribe_events_pro_admin);