{% extends "list.twig" %}

{% block hero %}
  <header class="c-hero c-hero--bg-secondary">
    <div class="o-container">
      <h1 class="c-hero__title">{{options.event_landing_title}}</h1>
      <p class="c-hero__tagline">{{options.event_landing_tagline}}</p>
    </div>
    {% include 'partials/hero-full-splatter.twig' %}
  </header>
{% endblock %}

{% block list_sidebar %}
  {# Event Filters #}
  <ol class="js-accordion c-list-box c-list-box--primary" data-multiselectable="true">
    <li class="c-list-box__item">
      <h3 class="js-accordion__header c-list-box__heading {{age_group|sanitize}}-background" id="homepage-ages-heading-{{loop.index}}">
        All Events
      </h3>
      <ol class="js-accordion__content c-list-box__content {{age_group|sanitize}}-background" id="homepage-ages-panel-{{loop.index}}">
        {% for post in age_group.posts('numberposts=-1&post_type=age&meta_key=numeric_age&orderby=meta_value_num&order=ASC') %}
          <li class="c-list-box__subitem"><a href="{{post.link}}" class="button--full-width button--primary {{age_group|sanitize}}-text">{{post.title}}</a></li>
        {% endfor %}
      </ol>
    </li>
    <li class="c-list-box__item">
      <h3 class="js-accordion__header c-list-box__heading {{age_group|sanitize}}-background" id="homepage-ages-heading-{{loop.index}}">
        All Ages
      </h3>
      <ol class="js-accordion__content c-list-box__content {{age_group|sanitize}}-background" id="homepage-ages-panel-{{loop.index}}">
        {% for post in age_group.posts('numberposts=-1&post_type=age&meta_key=numeric_age&orderby=meta_value_num&order=ASC') %}
          <li class="c-list-box__subitem"><a href="{{post.link}}" class="button--full-width button--primary {{age_group|sanitize}}-text">{{post.title}}</a></li>
        {% endfor %}
      </ol>
    </li>
    <li class="c-list-box__item">
      <h3 class="js-accordion__header c-list-box__heading {{age_group|sanitize}}-background" id="homepage-ages-heading-{{loop.index}}">
        All Boroughs
      </h3>
      <ol class="js-accordion__content c-list-box__content {{age_group|sanitize}}-background" id="homepage-ages-panel-{{loop.index}}">
        {% for post in age_group.posts('numberposts=-1&post_type=age&meta_key=numeric_age&orderby=meta_value_num&order=ASC') %}
          <li class="c-list-box__subitem"><a href="{{post.link}}" class="button--full-width button--primary {{age_group|sanitize}}-text">{{post.title}}</a></li>
        {% endfor %}
      </ol>
    </li>
  </ol>
{% endblock %}

{% block before_list %}
  {{function('do_action', 'tribe_events_before_template')}}
{% endblock %}

{% block post_list %}
  {% include 'partials/tribe-events-list.twig' %}
{% endblock %}

{% block after_list %}
  {{function('do_action', 'tribe_events_after_template')}}
{% endblock %}
