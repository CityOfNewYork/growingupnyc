{% extends "base.twig" %}

{% block content %}
  {% if 'events' in current_url %}
    {% set v_page = 'events' %}
  {% elseif 'programs' in current_url %}
    {% set v_page = 'programs' %}
  {% elseif is_404 %}
    {% set v_page = '404' %}
  {% endif %}

  <div id="vue-{{v_page}}">
    {% block hero %}
    {% endblock %}
    <section class="o-container u-bottom-spacing u-top-spacing-small">

      {% if not is_404 %}
        <div class="o-article-sidebar o-content-container--compact u-lg-gutter">
          {% block list_sidebar %}
          {% endblock %}
        </div>
        <div class="o-article">
          {% block before_list %}
          {% endblock %}

          {% block post_list %}
            {% for post in posts %}
              {% include ['partials/teaser-'~post.post_type~'.twig', 'partials/teaser.twig'] %}
            {% endfor %}
          {% endblock %}

          {% block after_list %}
          {% endblock %}
        </div> <!-- /.o-article -->
      {% endif %}

      {% if is_404 %}
        {% include 'partials/404.twig' %}
      {% endif %}

    </section> <!-- /.o-layout--large -->
  </div>
{% endblock %}